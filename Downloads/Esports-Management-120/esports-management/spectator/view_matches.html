<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>View Matches</title>
  <link rel="stylesheet" href="../css_spectator/view_matches.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>
<div class="matches-container">
  <h2>Live & Past Matches</h2>
  <table id="matchesTable">
    <thead>
      <tr>
        <th>Match ID</th>
        <th>Teams</th>
        <th>Match Date</th>
        <th>Result</th>
        <th>Watch</th>
        <th>Prize</th>
      </tr>
    </thead>
    <tbody>
      <!-- JS will fill rows here -->
    </tbody>
  </table>

  <a href="../spectator_dashboard.html" class="back-btn">← Back to Dashboard</a>
</div>

<script>
  // Sample data (replace with real API/database later)
  const matches = [
    {
      match_id: 1,
      team1_name: "Team Alpha",
      team2_name: "Team Beta",
      match_date: "2025-09-20",
      result: "Team Alpha Won",
      url: "https://example.com/stream1",
      prize: 50000
    },
    {
      match_id: 2,
      team1_name: "Team Gamma",
      team2_name: "Team Delta",
      match_date: "2025-09-25",
      result: "Pending",
      url: "",
      prize: null
    },
    {
      match_id: 3,
      team1_name: "Team X",
      team2_name: "Team Y",
      match_date: "2025-08-30",
      result: "Team Y Won",
      url: "https://example.com/stream2",
      prize: 30000
    }
  ];

  const tableBody = document.querySelector("#matchesTable tbody");

  matches.forEach(row => {
    let prizeAmount = "N/A";
    if (row.result.toLowerCase() !== "pending" && row.prize) {
      prizeAmount = "₹" + row.prize.toLocaleString();
    }

    const tr = document.createElement("tr");
    tr.innerHTML = `
      <td>${row.match_id}</td>
      <td>${row.team1_name} vs ${row.team2_name}</td>
      <td>${row.match_date}</td>
      <td>${row.result}</td>
      <td>
        ${row.result.toLowerCase() !== "pending" && row.url
          ? `<a href="${row.url}" target="_blank">Watch</a>`
          : `<span style="color: gray;">N/A</span>`}
      </td>
      <td>${prizeAmount}</td>
    `;
    tableBody.appendChild(tr);
  });
</script>
</body>
</html>
